<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PCB & PCB Assembly projects Review|pcbgogo.com</title>
    <!--网页标题左侧显示-->
    <link rel="icon" href="img/images/title-logo.png" type="image/x-icon">
    <!--收藏夹显示图标-->
    <link rel="shortcut icon" href="img/images/title-logo.png" type="image/x-icon">
    <link rel="stylesheet" href="img/css/public.css">
    <link rel="stylesheet" href="img/css/reviewList.css">
    <link rel="stylesheet" href="img/css/publicDynamic.css">
    <script src="img/js/jquery/jquery-1.11.3.min.js"></script>
</head>
<body>
<div class="top">

        <div class="banner-top">
            <ul class="banner-right">
                <li><a href="index.html">PCBgogo</a></li>
                <li class="top-line">|</li>
                <li><a href="index.html">PCB Instant Quote</a></li>
                <li class="top-line">|</li>
                <li><a href="index.html">PCB Assembly</a></li>
            </ul>
    </div>
</div>
<div class="banner-nav">
        <div class="nav-box">
            <!--logo-->
            <div class="nav-l" onclick="window.open('index.html','_self')"></div>
            <!--列表-->
            <div class="lists-box js-forum-nav">
                <ul>
                    <li><a href="reviewList.html" class="active">Comentario</a></li>
                    <li><a href="dynamic.html">Current Events</a></li>
                </ul>
            </div>
            <!--账户登陆后-->
            <div class="user-box">
                <span class="hi-text"> Hi! The user...</span>
                <div class="user-pic js-user-pic">
                    <i><img src="img/images/user.png" alt=""></i>
                    <i class="down-pointer"><img src="img/images/down-pointer.png" alt=""></i>
                </div>
                <div class="user-item">
                    <div class="account active">
                        My Account
                    </div>
                    <div class="account">
                        My Orders list
                    </div>
                    <div class="account">
                        My Delivery Address
                    </div>
                    <div class="facebook-btn ">
                        Bind FaceBook
                    </div>
                    <div class="out-btn js-out-btn" style="margin-top: 10px">
                        Sign Out
                    </div>
                </div>
            </div>
            <!--账户登录前-->
            <div class="no-user-box" style="display: none">
                <div class="sg-in js-sg-in">
                    Sign in
                </div>
                <div class="sg-in js-sg-free" style="border: 1px solid #efefef">
                    Join free
                </div>
            </div>
        </div>
</div>
<div class="main-box">
    <!--中间图示-->
    <div class="forum-pic">
        <div class="container_warp">
            <img src="img/images/forum/forum-pic.jpg" alt="">
        </div>
    </div>
    <!--瀑布流-->
    <div class="water-full-box">
        <div class="container_warp ">
          <div style="position: relative;min-height: 650px" class="js-full-box" id="main">
              <div class="box-list ">
                  <img src="img/images/forum/fall-images/fall-pic1.png" alt="">
                  <div class="fall-title">
                      <a href="" class="fall-l">
                          <img class="header-icon" src="img/images/forum/head-pic.png" alt="header-pic" width="30"
                               height="30">
                          <span>The user</span>
                          <img class="national-flag" src="img/images/forum/austria-pic.png" alt="header-pic">
                      </a>
                      <div class="fall-text"></div>
                  </div>
                  <ul class="good-stars">
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                  </ul>
                  <p class="list-text">
                      <a href="">
                          Refuse conductive adhesive technology in pcb manufacture
                      </a>
                  </p>
              </div>
              <div class="box-list ">
                  <img src="img/images/forum/fall-images/fall-pic13.png" alt="">
                  <div class="fall-title">
                      <a href="" class="fall-l">
                          <img class="header-icon" src="img/images/forum/head-pic.png" alt="header-pic" width="30"
                               height="30">
                          <span>The user</span>
                          <img class="national-flag" src="img/images/forum/austria-pic.png" alt="header-pic">
                      </a>
                      <div class="fall-text"></div>
                  </div>
                  <ul class="good-stars">
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                  </ul>
                  <p class="list-text">
                      <a href=""> Refuse conductive adhesive technology in pcb manufacture</a>
                  </p>
              </div>
              <div class="box-list ">
                  <img src="img/images/forum/fall-images/fall-pic14.png" alt="">
                  <div class="fall-title">
                      <a href="" class="fall-l">
                          <img class="header-icon" src="img/images/forum/head-pic.png" alt="header-pic" width="30"
                               height="30">
                          <span>The user</span>
                          <img class="national-flag" src="img/images/forum/austria-pic.png" alt="header-pic">
                      </a>
                      <div class="fall-text"></div>
                  </div>
                  <ul class="good-stars">
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                  </ul>
                  <p class="list-text">
                      <a href=""> Refuse conductive adhesive technology in pcb manufacture</a>
                  </p>
              </div>
              <div class="box-list ">
                  <img src="img/images/forum/fall-images/fall-pic1.png" alt="">
                  <div class="fall-title">
                      <a href="" class="fall-l">
                          <img class="header-icon" src="img/images/forum/head-pic.png" alt="header-pic" width="30"
                               height="30">
                          <span>The user</span>
                          <img class="national-flag" src="img/images/forum/austria-pic.png" alt="header-pic">
                      </a>
                      <div class="fall-text"></div>
                  </div>
                  <ul class="good-stars">
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                  </ul>
                  <p class="list-text">
                      <a href="">Refuse conductive adhesive technology in pcb manufacture</a>
                  </p>
              </div>
              <div class="box-list ">
                  <img src="img/images/forum/fall-images/fall-pic1.png" alt="">
                  <div class="fall-title">
                      <a href="" class="fall-l">
                          <img class="header-icon" src="img/images/forum/head-pic.png" alt="header-pic" width="30"
                               height="30">
                          <span>The user</span>
                          <img class="national-flag" src="img/images/forum/austria-pic.png" alt="header-pic">
                      </a>
                      <div class="fall-text"></div>
                  </div>
                  <ul class="good-stars">
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                      <li></li>
                  </ul>
                  <p class="list-text">
                      <a href="">Refuse conductive adhesive technology in pcb manufacture</a>
                  </p>
              </div>
          </div>
        </div>
    </div>
    <!--分页-->
    <div class="container_warp">

    </div>
    <!--返回顶部-->
    <div class="go-btn">
        <img src="img/images/order/gotop.png" alt="">
    </div>
</div>
<!--底部列表-->
<div class="footer">
    <div class="container_warp">
        <div class="footer-item">
            <ul class="footer-item-ul">
                <li class="ban-quan">Copyright © 2015 PCBGOGO. All rights reserved. Shenzhen JDB Technology Co.,
                    Ltd. <br>
                    Address: No. 15, Zhongxing Road, Kengzi Street, Pingshan District, Shenzhen, 518000, China.
                </li>
                <li>
                    Whatsapp <br>+8618665922549
                </li>
                <li>
                    Mail <br>service@pcbgogo.com
                </li>
                <li>
                    Tel <br>+86-755-33066136
                </li>
                <li class="footer-last-item">
                    Sitemap <i><img src="img/images/rr-point.png" alt="箭头" width="6" height="11"
                                    style="vertical-align: middle"></i>
                    <i class="min-logo"><img src="img/images/gogopic.png" alt="图标" width="95" height="35"></i>
                </li>
            </ul>
        </div>
    </div>
</div>
<script src="img/js/reviewList.js"></script>
<script>
    $(function () {
        //    瀑布流
        var postFlag=true;//全局变量控制多次请求
        var num = 4;  //定义每行显示几个元素
        var itemWidth = $('.js-full-box .box-list')[0].offsetWidth+22;
        var marginBottom = 20;
        var maxH=0;
        waterFull();//页面加载进行定位
        //瀑布流函数
        function waterFull() {
            var getItems = $('.js-full-box .box-list');//获取所有元素
            var arr = [];  //声明一个数组用于保存虚拟数组的高度
            for (var i = 0; i < getItems.length; i++) {
                if (i < num) {
                    arr.push(getItems[i].offsetHeight);
                    $(getItems[i]).css({
                        opacity:1,
                        filter: 'alpha(opacity=1)'
                    });
                } else {
                    //获取数组中的最小值
                    var minHeight = Math.min.apply(null, arr);
                    maxH=Math.max.apply(null,arr);
                    //获取数组最小值的位置
                    var minIndex = checkIndex(minHeight, arr);
                    //指定元素的位置;
                    $(getItems[i]).css({
                        position: 'absolute',
                        top: minHeight + marginBottom,
                        left: minIndex * itemWidth,
                        opacity:1,
                        filter: 'alpha(opacity=1)'
                    });
                    //重新更新数组里的高度
                    arr[minIndex] += getItems[i].offsetHeight + marginBottom;
                }
            }
            $('.js-full-box').height(maxH+250);
        }//end waterFull
        //定义一个方法查询数组中最小值的位置
        function checkIndex(minHeight, arr) {
            for (var j = 0; j < arr.length; j++) {
                if (arr[j] === minHeight) {
                    return j;
                }
            }
        }//end checkIndex
        //    滚动到底部加载
        $(window).scroll(function () {
            waterFull();//滚动再次定位元素
            if(!postFlag){return; }
            var docHeight = $(document).height();//文档高度
            var windowHeight = $(window).height();//屏幕高度
            var scrollHeight = $(document).scrollTop();
            if ((windowHeight + scrollHeight) > (docHeight - 100)) {
                postFlag=false;
                //数据请求
                $.ajax({
                    url: 'imgUrl2.json',
                    type: 'get',
                    json: 'jsonp',
                    success: function (data) {
                        postFlag = false;
                        var str = '';
                        for (var k = 0; k < data.data.length; k++) {
                            console.log(data.data[k].url);
                            str = '<div class="box-list ">\n' +
                                '                  <img src="'+ data.data[k].url+'" alt="">\n' +
                                '                  <div class="fall-title">\n' +
                                '                      <a href="" class="fall-l">\n' +
                                '                          <img class="header-icon" src="img/images/forum/head-pic.png" alt="header-pic" width="30"\n' +
                                '                               height="30">\n' +
                                '                          <span>The user</span>\n' +
                                '                          <img class="national-flag" src="img/images/forum/austria-pic.png" alt="header-pic">\n' +
                                '                      </a>\n' +
                                '                      <div class="fall-text"></div>\n' +
                                '                  </div>\n' +
                                '                  <ul class="good-stars">\n' +
                                '                      <li></li>\n' +
                                '                      <li></li>\n' +
                                '                      <li></li>\n' +
                                '                      <li></li>\n' +
                                '                      <li></li>\n' +
                                '                  </ul>\n' +
                                '                  <p class="list-text">\n' +
                                '                      <a href="">\n' +
                                '                          Refuse conductive adhesive technology in pcb manufacture\n' +
                                '                      </a>\n' +
                                '                  </p>\n' +
                                '              </div>';
                            $('.js-full-box').append(str);//追加页面元素
                            $('.js-full-box').height(maxH+250);
                            waterFull();//调用函数
                            postFlag = true;//避免多次请求
                        }
                    },
                    error: function (res) {
                        console.log(res);
                    }
                });
            }
        });
    });//end function
</script>
<!--<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ad97cbe7f426d8b"></script>-->
</body>
</html>